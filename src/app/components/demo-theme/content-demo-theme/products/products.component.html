<app-nav-demo-theme></app-nav-demo-theme>

<div class="wrapper">

  <div class="content">
    <div fxLayout="row wrap" fxLayoutGap="16px grid">
      <div fxFlex="25" fxFlex.xs="100%" fxFlex.sm="33%">
        <button align='right' mat-raised-button style="margin:5px;" color="accent"
          *ngIf="authenticationService.currentuser | async" [routerLink]="['create' ]" (click)="gotoTop()">Crear
          Producto</button>
      </div>

      <form [formGroup]="searchForm" fxLayout="column" fxFlex="33%" fxFlexOffset="10" fxFlex.xs="100%" fxLayoutAlign="center stretch">
        <mat-form-field>
          <mat-label>Buscar Producto</mat-label>
          <input matInput placeholder="Buscar" formControlName="search">
          <mat-icon matPrefix>search</mat-icon>
        </mat-form-field>
      </form>
    </div>


    <br>

    <div fxLayout="row wrap" fxLayoutGap="16px grid">
      <ng-container *ngFor="let product of products | searchFilter: searchForm.value.search ">
        <div fxFlex="25%" fxFlex.xs="100%" fxFlex.sm="33%" *ngIf="(product?.canceled == false)">
          <mat-card class="mat-elevation-z4">
            <mat-card-header>
              <mat-card-title>
                <button mat-button
                  [routerLink]="['/demo/demo-products', product.partId, 'view' ]">{{product.name}}</button>
              </mat-card-title>
            </mat-card-header>
              <img mat-card-image class="img-size" src="{{ image_path + product?.imageFile}}">
 
            <mat-card-content>
              <p>
                ${{product.unitPrice}}.00 MXN
              </p>
            </mat-card-content>
            <mat-card-actions align="end">
              <button mat-raised-button color="accent" (click)="addToCart(product)"><span class="material-icons">
                  add_shopping_cart
                </span></button>
            </mat-card-actions>
          </mat-card>
        </div>
      </ng-container>
    </div>
  </div>
</div>
<app-footer-demo-theme></app-footer-demo-theme>